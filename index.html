<html>
<head>
<title>experimental logo</title>
<!-- $Id$ -->
<style>
canvas { border:1px solid black;}
#oldcode {font-family: monospace;display: block; white-space: pre;overflow: scroll; margin: 10px;}
.left {float:left; width:49%;}
.right {float:left; left-margin:1%; width:49%;}

</style>
<script src="turtle.js"></script>
<script src="logo.js"></script>
<script>

var turtle = null;
var logo = null;

function init (canvas_id,form_id,oldcode_id) {
    
    var canvas = document.getElementById(canvas_id);
    var form = document.getElementById(form_id);
    
    canvas.width = 500;
    canvas.height = 500;
    
    form.code.style.width = "90%";
    form.code.style.height = "200px";
    
    oldcode = document.getElementById(oldcode_id);
    oldcode.style.width = "90%";
    oldcode.style.height = "300px";
    
    turtle = new Turtle(canvas);
    logo = new Logo(turtle);
}
function run () {
        var code = form.code.value;

        oldcode.innerHTML +="\n"+code
        //form.code.value = ""
        
        var out = logo.run(code);
        if (out.type == "error") {
            alert(out.data);
        }
}
 

</script>
</head>
<body onload="init('canvas','form','oldcode');">
<div class="left column">
<canvas id="canvas" width="500" height="500">
Is broken
</canvas>
</div>
<div class="right column">
<form id="form" onSubmit="run(); return false;" action="#">
<div id="oldcode">&nbsp;</div>
<div>
<textarea id="code">
to square
repeat 4 [fw 100 right 90]
end

to thing
repeat 10 [rt 60 square]
end

thing
</textarea></div>
<div>
<input type="button" onClick="run();" value="run"/>
<input type="reset" value="reset form"/>
</div>
</form>
</div>

Supported: forward n (fw), backward n (bw), right n (rt), left n (lt), penup (pu), pendown (pd), clear (cs), reset, repeat n [commands], to name commands end.

</body>
</html>
